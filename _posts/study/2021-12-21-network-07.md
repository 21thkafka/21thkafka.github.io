---
layout: post
title:  "[네트워크] HTTP 기초 - HTTP 상태 코드"
subtitle:   "HTTP 07"
categories: study
tags: network
comments: true
---

# HTTP 상태코드

- 목차
    - [1.HTTP 상태코드 소개](#1.HTTP상태코드)
    - [2.2XX - 성공](#2.2XX)
    - [3.3XX - 리다이렉션](#3.3XX)

## 1. HTTP 상태코드 소개
---
상태 코드는 클라이언특 ㅏ보낸 요청의 처리 상태를 응답에서 알려주는 기능이다. 크게 다섯가지로 나눌 수 있다.

- 1XX (Informational) : 요청이 수신되어 처리중
- 2XX (Successful) : 요청 정상 처리
- 3XX (Redirection) : 요청을 완료하려면 추가 행동이 필요
- 4XX (Client Error) : 클라이언트 오류, 잘못된 문법등으로 서버가 요청을 수행할 수 없음
- 5XX (Server Error) : 서버 오류, 서버가 정상 요청을 처리하지 못함

클라이언트가 만약 인식할 수 없는 상태 코드를 서버가 반환한다 하더라도 클라이언트는 상위상태코드로 해석해서 처리한다. <br>
1XX (Informational)는 요청이 수신되어 처리중인 의미이므로 거의 볼 일이 없다. 거의사용하지 않으므로 생략한다.

## 2. 2XX - 성공
---

- 200 OK
- 201 Created : 요청 성공해서 새로운 리소스 생성 예)POST 등록
- 202 Accepted : 요청이 접수되었으나 처리가 완료되지 않았음, 배치 처리 같은 곳에서 사용
- 204 No Content : 서버가 요청을 성공적으로 수행했지만, 응답 페이로드 본문에 보낼 데이터가 없음

204의 경우, 예로 웹 문서 편집기에 아무 내용을 입력하지 않고 저장 버튼을 누를 수 있다. 그때 아무 내용이 없어도 204 메시지(2XX)만으로 성공을 인식할 수 있다.<br>
실무에서 저 네 개 다 사용하지 않고 팀에서 사용 범위를 정하여 쓴다. 보통 200만 쓰거나 201까지 쓴다.

## 3. 3XX 리다이렉션
---
3XX대 리다이렉션은 클라이언트로부터 요청을 받았는데 완료하기 위해서 추가 조치가 필요한 경우를 말한다.

- 웹 브라우저는 3XX 응다브이 결과에 Location 헤더가 있으면, Location 위치로 자동 이동한다.

리다이렉션은 다음과 같이 세 종류가 있다.

- 영구 리다이렉션 : 특정 리소스의 URI가 영구적으로 이동
- 일시 리다이렉션 : 일시적인 변경, 예로 주문 완료 후 주문 내역 화면으로 이동하는 경우
- 특수 리다이렉션 : 결과 대신 캐시를 사용
<br>
영구 리다이렉션은 원래의 말 그대로 영구적으로 이동하며 원래 URL을 사용하지 않고 검색 엔진 등에서도 변경을 인지한다. 301 Moved Permanently 와 308 Permanent Redirect 둘이 있는데 영구 이동하는 기능은 같다. 그러나 301은 리다이렉트시 요청 메서드가 GET으로 변하고 본문이 제거될 수도 있다. 308은 리다이렉트시 요청 메서드와 본문 유지(처음 POST를 보내면 리다이렉트도 POST)한다. 그러나 영구적인 리다이렉션보다 일시적인 리다이렉션을 많이 사용하는 편이다. <br>
일시적인 리다이렉션은 URI가 일시적으로 변경되는 것으로 검색 엔진 등에서 URI을 변경하면 안된다. 일시적인 리다이렉션에 해당되는 번호가 3개 있는데 302 Found, 307 Temporary Redirect, 303 See Other가 있다. 302 Found는 앞서 301처럼 리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있다. 307 Temporary Redirect는 308처럼 리다이렉트시 요청 메서드와 본문 유지된다.(요청 메서드를 변경하면 안된다.) 303 See Other는 리다이렉트시 요청 메서드가 GET으로 변경한다. 이 셋 중 302를 주로 많이 사용한다.<br>
이런 일시적인 리다이렉션이 써야하는 경우는 주문 후 새로고침등으로 중복 주문을 막기 위할 때 사용한다. 보통 PRG(Post/Redirect/Get)이라고 한다.<br>
정리하자면 

- 302 Found -> GET으로 변할 수 있음
- 307 Temporary Redirect -> 메서드가 변하면 안됨
- 303 See Other -> 메서드가 GET으로 변경

현실에서는

- 307, 303을 권장하지만 현실적으로 이미 많은 애플리케이션 라이브러리들이 302를 기본값으로 사용
- 자동 리다이렉션시에 GET으로 변해도 되면 그냥 302를 사용해도 큰 문제 없음