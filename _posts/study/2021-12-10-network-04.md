---
layout: post
title:  "[네트워크] HTTP 기초 - HTTP의 기본"
subtitle:   "HTTP 04"
categories: study
tags: network, HTTP
comments: true
---

# 시작하기

- 목차
    - [1.모든것이 HTTP](#1.HTTP)
    - [2.클라이언트 서버 구조](#2.클라이언트서버구조)
    - [3.무상태 프로토콜](#3.스테이스리스)


## 1. 모든 것이 HTTP
---
HTTP는 HyperText Transfer Protocol의 약자로 html같은 하이퍼텍스트를 전송하는 프로토콜 약속으로 시작했지만 지금은 모든 것을 HTTP를 통해 하고 있다. HTML, TEXT 뿐만 아니라 IMAGE, 음성, 영상, 파일은 물론 JSON, XML(API) 등 거의 모든 형태의 데이터 전송이 가능하다. 게다가 서버간에 데이터를 주고 받을 때도 대부분 HTTP를 사용한다. <br>
HTTP는 1991년에 0.9 버전을 시작하여 현재 HTTP/3 버전까지 나와있지만 1997년에 나온 HTTP/1.1 버전을 가장 많이 사용하고, 우리에게 제일 중요한 버전이다. 이후 나온 HTTP/2와 HTTP/3는 성능 개선에만 초점이 맞춰져있다. HTTP/1.1은 세분화 하면 1997년에 나온 REC2068, 1999의 RFC2616, 2014년의 RFC7230~7235로 나눠져 있는데 50% 이상 1999년의 RFC2616을 기준으로 하고 있다.<br>
기반 프로토콜은 HTTP/1.1, HTTP/2는 안정적인 TCP를 기반으로 하고 있고 최근 속도를 중시하여 HTTP/3가 UDP를 기반으로 두고 있다.<br>
HTTP 특징은 다음과 같다

- 클라이언트 서버 구조
- 무상태 프로토콜(스테이스리스), 비연결성
- HTTP 메세지
- 단순함, 확장 가능

## 2. 클라이언트 서버 구조
---
HTTP는 기본적으로 Request Response 구조로 이뤄져 있다. 클라이언트는 서버에 요청을 보내고, 응답을 대기한다. 서버는 요청에 대한 결과를 만들어서 응답하는 구조이다. 이렇게 클라이언트와 서버를 분리하는 것이 중요하다. 복잡한 비즈니스 로직와 데이터는 서버에서 처리하게 만들고 클라이언트는 UI에 집중한다. 그래서 양쪽이 독립적으로 진화할 수 있게 된다.

## 3. 무상태 프로토콜
---
무상태 프로토콜은 서버가 클라이언트의 상태를 보존하지 않는 다는 뜻이다. 이전의 상황을 기억하고 상태를 유지하는 것이 Stateful, 상태 유지이다. 그러면 무상태, Stateless는 이와 반대로 이전 상황을 유지 하지 않는다는 것을 말한다. 이렇게보면 무상태는 부정적으로 보이지만 무상태는 이전 상황을 유지하지 않기 때문에 어떤 상황에서든 대응할 수 있는 데이터를 응답한다. 무상태는 응답 서버를 쉽게 바꿀 수 있고 서버를 대거 투입할 수 있어 무한한 확장성을 가질 수 있게 만든다. 그리고 무한한 서버 증설이 가능해 진다. <br>
상태 유지는 항상 같은 서버가 유지되어야 한다. 반면 무상태는 아무 서버나 호출해도 된다. 그래서 스케일 아웃이라고 수평 확장을 하는 것에 매우 유리하다.<br>
그러나 무상태도 실무에서 한계가 있다

- 모든 것을 무상태로 설계할 수 있는 경우도 있고 없는 경우도 있음
- 무상태 : 예) 로그인이 필요없는 단순한 서비스 소개 화면
- 상태유지 : 예) 로그인
- 로그인한 사용자의 경우 로그인 했다는 상태를 서버에 유지
- 일반적으로 브라우저 쿠키와 서버 세션등을 사용해서 상태 유지
- 상태 유지는 최소한만 사용

그리고 최대 단점으로 데이터를 너무 많이 사용한다^^